#!/bin/bash -e
echo " "
echo "USAGE:"
echo " "
echo "This is the centos7-java-spring-boot-s2i S2I image:"
echo "To use it, install S2I: https://github.com/openshift/source-to-image"
echo " "

echo "Sample invocation:"
echo " "
echo "s2i build <APP-SOURCE-CODE-DIR> -e BUILD_TOOL=<maven|gradle> centos7-java-spring-boot-s2i <APP-IMAGE-NAME>"
echo " "
echo " "
echo "s2i build --rm ./test-app_dir -e BUILD_TOOL=gradle centos7-java-spring-boot-s2i test_app"
echo " "
echo " "
echo " vi s2i-env.txt"
echo " "
echo " BUILD_TOOL=maven"
echo " "
echo "s2i build --rm ./test-app_dir --environment-file s2i-env.txt centos7-java-spring-boot-s2i test_app"
echo " "

echo "Running resulting image :"
echo " "
echo "docker run -d -p 8080:8080 --user 1000345 <APP-IMAGE-NAME>"
echo "docker run -d -p 8080:8080 -env JAVA_OPTS=-Xms1g -Xmx1g --user 1000345 <APP-IMAGE-NAME>"
echo " "
echo "See the test url http://localhost:8080"
echo " "
